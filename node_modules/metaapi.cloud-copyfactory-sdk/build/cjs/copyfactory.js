"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, /**
 * MetaApi CopyFactory copy trading API SDK
 */ "default", {
    enumerable: true,
    get: function() {
        return CopyFactory;
    }
});
const _httpClient = /*#__PURE__*/ _interop_require_default(require("./clients/httpClient"));
const _configurationclient = /*#__PURE__*/ _interop_require_default(require("./clients/copyfactory/configuration.client"));
const _historyclient = /*#__PURE__*/ _interop_require_default(require("./clients/copyfactory/history.client"));
const _tradingclient = /*#__PURE__*/ _interop_require_default(require("./clients/copyfactory/trading.client"));
const _domainclient = /*#__PURE__*/ _interop_require_default(require("./clients/domain.client"));
const _logger = /*#__PURE__*/ _interop_require_default(require("./logger"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
let CopyFactory = class CopyFactory {
    /**
   * Enables using Log4js logger with extended log levels for debugging instead of
   * console.* functions. Note that log4js configuration performed by the user.
   */ static enableLog4jsLogging() {
        _logger.default.useLog4js();
    }
    /**
   * Constructs CopyFactory class instance
   * @param {String} token authorization token
   * @param {Object} opts connection options
   * @param {String} [opts.domain] domain to connect to
   * @param {String} [opts.extendedTimeout] timeout for extended http requests in seconds
   * @param {Number} [opts.requestTimeout] timeout for http requests in seconds
   */ constructor(token, opts = {}){
        this._domain = opts.domain || "agiliumtrade.agiliumtrade.ai";
        let requestTimeout = opts.requestTimeout || 10;
        let requestExtendedTimeout = opts.extendedTimeout || 70;
        const retryOpts = opts.retryOpts || {};
        this._httpClient = new _httpClient.default(requestTimeout, requestExtendedTimeout, retryOpts);
        this._domainClient = new _domainclient.default(this._httpClient, token, this._domain);
        this._configurationClient = new _configurationclient.default(this._domainClient);
        this._historyClient = new _historyclient.default(this._domainClient);
        this._tradingClient = new _tradingclient.default(this._domainClient, this._configurationClient);
    }
    /**
   * Returns CopyFactory configuration API
   * @returns {ConfigurationClient} configuration API
   */ get configurationApi() {
        return this._configurationClient;
    }
    /**
   * Returns CopyFactory history API
   * @return {HistoryClient} history API
   */ get historyApi() {
        return this._historyClient;
    }
    /**
   * Returns CopyFactory trading API
   * @return {TradingClient} trading API
   */ get tradingApi() {
        return this._tradingClient;
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjxhbm9uPiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBIdHRwQ2xpZW50IGZyb20gJy4vY2xpZW50cy9odHRwQ2xpZW50JztcbmltcG9ydCBDb25maWd1cmF0aW9uQ2xpZW50IGZyb20gJy4vY2xpZW50cy9jb3B5ZmFjdG9yeS9jb25maWd1cmF0aW9uLmNsaWVudCc7XG5pbXBvcnQgSGlzdG9yeUNsaWVudCBmcm9tICcuL2NsaWVudHMvY29weWZhY3RvcnkvaGlzdG9yeS5jbGllbnQnO1xuaW1wb3J0IFRyYWRpbmdDbGllbnQgZnJvbSAnLi9jbGllbnRzL2NvcHlmYWN0b3J5L3RyYWRpbmcuY2xpZW50JztcbmltcG9ydCBEb21haW5DbGllbnQgZnJvbSAnLi9jbGllbnRzL2RvbWFpbi5jbGllbnQnO1xuaW1wb3J0IExvZ2dlck1hbmFnZXIgZnJvbSAnLi9sb2dnZXInO1xuXG4vKipcbiAqIE1ldGFBcGkgQ29weUZhY3RvcnkgY29weSB0cmFkaW5nIEFQSSBTREtcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29weUZhY3Rvcnkge1xuXG4gIC8qKlxuICAgKiBFbmFibGVzIHVzaW5nIExvZzRqcyBsb2dnZXIgd2l0aCBleHRlbmRlZCBsb2cgbGV2ZWxzIGZvciBkZWJ1Z2dpbmcgaW5zdGVhZCBvZlxuICAgKiBjb25zb2xlLiogZnVuY3Rpb25zLiBOb3RlIHRoYXQgbG9nNGpzIGNvbmZpZ3VyYXRpb24gcGVyZm9ybWVkIGJ5IHRoZSB1c2VyLlxuICAgKi9cbiAgc3RhdGljIGVuYWJsZUxvZzRqc0xvZ2dpbmcoKSB7XG4gICAgTG9nZ2VyTWFuYWdlci51c2VMb2c0anMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIENvcHlGYWN0b3J5IGNsYXNzIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0b2tlbiBhdXRob3JpemF0aW9uIHRva2VuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIGNvbm5lY3Rpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdHMuZG9tYWluXSBkb21haW4gdG8gY29ubmVjdCB0b1xuICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdHMuZXh0ZW5kZWRUaW1lb3V0XSB0aW1lb3V0IGZvciBleHRlbmRlZCBodHRwIHJlcXVlc3RzIGluIHNlY29uZHNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRzLnJlcXVlc3RUaW1lb3V0XSB0aW1lb3V0IGZvciBodHRwIHJlcXVlc3RzIGluIHNlY29uZHNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRva2VuLCBvcHRzID0ge30pIHtcbiAgICB0aGlzLl9kb21haW4gPSBvcHRzLmRvbWFpbiB8fCAnYWdpbGl1bXRyYWRlLmFnaWxpdW10cmFkZS5haSc7XG4gICAgbGV0IHJlcXVlc3RUaW1lb3V0ID0gb3B0cy5yZXF1ZXN0VGltZW91dCB8fCAxMDtcbiAgICBsZXQgcmVxdWVzdEV4dGVuZGVkVGltZW91dCA9IG9wdHMuZXh0ZW5kZWRUaW1lb3V0IHx8IDcwO1xuICAgIGNvbnN0IHJldHJ5T3B0cyA9IG9wdHMucmV0cnlPcHRzIHx8IHt9O1xuICAgIHRoaXMuX2h0dHBDbGllbnQgPSBuZXcgSHR0cENsaWVudChyZXF1ZXN0VGltZW91dCwgcmVxdWVzdEV4dGVuZGVkVGltZW91dCwgcmV0cnlPcHRzKTtcbiAgICB0aGlzLl9kb21haW5DbGllbnQgPSBuZXcgRG9tYWluQ2xpZW50KHRoaXMuX2h0dHBDbGllbnQsIHRva2VuLCB0aGlzLl9kb21haW4pO1xuICAgIHRoaXMuX2NvbmZpZ3VyYXRpb25DbGllbnQgPSBuZXcgQ29uZmlndXJhdGlvbkNsaWVudCh0aGlzLl9kb21haW5DbGllbnQpO1xuICAgIHRoaXMuX2hpc3RvcnlDbGllbnQgPSBuZXcgSGlzdG9yeUNsaWVudCh0aGlzLl9kb21haW5DbGllbnQpO1xuICAgIHRoaXMuX3RyYWRpbmdDbGllbnQgPSBuZXcgVHJhZGluZ0NsaWVudCh0aGlzLl9kb21haW5DbGllbnQsIHRoaXMuX2NvbmZpZ3VyYXRpb25DbGllbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgQ29weUZhY3RvcnkgY29uZmlndXJhdGlvbiBBUElcbiAgICogQHJldHVybnMge0NvbmZpZ3VyYXRpb25DbGllbnR9IGNvbmZpZ3VyYXRpb24gQVBJXG4gICAqL1xuICBnZXQgY29uZmlndXJhdGlvbkFwaSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlndXJhdGlvbkNsaWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIENvcHlGYWN0b3J5IGhpc3RvcnkgQVBJXG4gICAqIEByZXR1cm4ge0hpc3RvcnlDbGllbnR9IGhpc3RvcnkgQVBJXG4gICAqL1xuICBnZXQgaGlzdG9yeUFwaSgpIHtcbiAgICByZXR1cm4gdGhpcy5faGlzdG9yeUNsaWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIENvcHlGYWN0b3J5IHRyYWRpbmcgQVBJXG4gICAqIEByZXR1cm4ge1RyYWRpbmdDbGllbnR9IHRyYWRpbmcgQVBJXG4gICAqL1xuICBnZXQgdHJhZGluZ0FwaSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdHJhZGluZ0NsaWVudDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNvcHlGYWN0b3J5IiwiZW5hYmxlTG9nNGpzTG9nZ2luZyIsIkxvZ2dlck1hbmFnZXIiLCJ1c2VMb2c0anMiLCJjb25zdHJ1Y3RvciIsInRva2VuIiwib3B0cyIsIl9kb21haW4iLCJkb21haW4iLCJyZXF1ZXN0VGltZW91dCIsInJlcXVlc3RFeHRlbmRlZFRpbWVvdXQiLCJleHRlbmRlZFRpbWVvdXQiLCJyZXRyeU9wdHMiLCJfaHR0cENsaWVudCIsIkh0dHBDbGllbnQiLCJfZG9tYWluQ2xpZW50IiwiRG9tYWluQ2xpZW50IiwiX2NvbmZpZ3VyYXRpb25DbGllbnQiLCJDb25maWd1cmF0aW9uQ2xpZW50IiwiX2hpc3RvcnlDbGllbnQiLCJIaXN0b3J5Q2xpZW50IiwiX3RyYWRpbmdDbGllbnQiLCJUcmFkaW5nQ2xpZW50IiwiY29uZmlndXJhdGlvbkFwaSIsImhpc3RvcnlBcGkiLCJ0cmFkaW5nQXBpIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFTQTs7Q0FFQyxHQUNEOzs7ZUFBcUJBOzs7bUVBVkU7NEVBQ1M7c0VBQ047c0VBQ0E7cUVBQ0Q7K0RBQ0M7Ozs7OztBQUtYLElBQUEsQUFBTUEsY0FBTixNQUFNQTtJQUVuQjs7O0dBR0MsR0FDRCxPQUFPQyxzQkFBc0I7UUFDM0JDLGVBQWEsQ0FBQ0MsU0FBUztJQUN6QjtJQUVBOzs7Ozs7O0dBT0MsR0FDREMsWUFBWUMsS0FBSyxFQUFFQyxPQUFPLENBQUMsQ0FBQyxDQUFFO1FBQzVCLElBQUksQ0FBQ0MsT0FBTyxHQUFHRCxLQUFLRSxNQUFNLElBQUk7UUFDOUIsSUFBSUMsaUJBQWlCSCxLQUFLRyxjQUFjLElBQUk7UUFDNUMsSUFBSUMseUJBQXlCSixLQUFLSyxlQUFlLElBQUk7UUFDckQsTUFBTUMsWUFBWU4sS0FBS00sU0FBUyxJQUFJLENBQUM7UUFDckMsSUFBSSxDQUFDQyxXQUFXLEdBQUcsSUFBSUMsbUJBQVUsQ0FBQ0wsZ0JBQWdCQyx3QkFBd0JFO1FBQzFFLElBQUksQ0FBQ0csYUFBYSxHQUFHLElBQUlDLHFCQUFZLENBQUMsSUFBSSxDQUFDSCxXQUFXLEVBQUVSLE9BQU8sSUFBSSxDQUFDRSxPQUFPO1FBQzNFLElBQUksQ0FBQ1Usb0JBQW9CLEdBQUcsSUFBSUMsNEJBQW1CLENBQUMsSUFBSSxDQUFDSCxhQUFhO1FBQ3RFLElBQUksQ0FBQ0ksY0FBYyxHQUFHLElBQUlDLHNCQUFhLENBQUMsSUFBSSxDQUFDTCxhQUFhO1FBQzFELElBQUksQ0FBQ00sY0FBYyxHQUFHLElBQUlDLHNCQUFhLENBQUMsSUFBSSxDQUFDUCxhQUFhLEVBQUUsSUFBSSxDQUFDRSxvQkFBb0I7SUFDdkY7SUFFQTs7O0dBR0MsR0FDRCxJQUFJTSxtQkFBbUI7UUFDckIsT0FBTyxJQUFJLENBQUNOLG9CQUFvQjtJQUNsQztJQUVBOzs7R0FHQyxHQUNELElBQUlPLGFBQWE7UUFDZixPQUFPLElBQUksQ0FBQ0wsY0FBYztJQUM1QjtJQUVBOzs7R0FHQyxHQUNELElBQUlNLGFBQWE7UUFDZixPQUFPLElBQUksQ0FBQ0osY0FBYztJQUM1QjtBQUNGIn0=